[tool.codespell]
ignore-words-list = "assertin"
skip = "./.*,docs/AUTHORS.txt,docs/history/*,docs/spelling_wordlist.txt,Changelog.rst,CONTRIBUTORS.txt,*.key"

[tool.coverage.run]
branch = true
cover_pylib = false
include = ["*kombu/*"]
omit = ["kombu.tests.*"]

[tool.coverage.report]
exclude_lines = [
    "pragma: no cover",
    "if TYPE_CHECKING:",
    "except ImportError:"
]
omit = [
    "*/python?.?/*",
    "*/site-packages/*",
    "*/pypy/*",
    "*kombu/utils/debug.py",
]

[tool.mypy]
warn_unused_configs = true
strict = false
follow_imports = "skip"
show_error_codes = true
disallow_untyped_defs = true
ignore_missing_imports = true
files = [
    'kombu/abstract.py',
    'kombu/utils/debug.py',
    'kombu/utils/time.py',
    'kombu/utils/uuid.py',
    't/unit/utils/test_uuid.py',
    'kombu/utils/text.py',
    'kombu/exceptions.py',
    't/unit/test_exceptions.py',
    'kombu/clocks.py',
    't/unit/test_clocks.py',
    'kombu/__init__.py',
    'kombu/asynchronous/__init__.py',
    'kombu/asynchronous/aws/__init__.py',
    'kombu/asynchronous/aws/ext.py',
    'kombu/asynchronous/aws/sqs/__init__.py',
    'kombu/asynchronous/aws/sqs/ext.py',
    'kombu/asynchronous/http/__init__.py',
    'kombu/transport/__init__.py',
    'kombu/transport/virtual/__init__.py',
    'kombu/utils/__init__.py',
    'kombu/matcher.py',
    'kombu/asynchronous/semaphore.py',
]
